<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- Compiled and minified CSS -->
  <link rel="stylesheet" href="./assets/CSS/reset.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="./assets/CSS/styles.css">
  <title>io.n</title>
</head>

<body>
  <div class="navbar">
    <nav class="white blue-text">
      <div class="nav-wrapper">
        <a href="./dashboard.html" class="brand-logo logo-text"><img src="./assets/Images/lot17a-logo-small.png" alt="lot17a"
            width="235px" height="65px"></i></a>
        <ul class="right">
          <li><a href="#" class="nav-links">Notifications<span class="new badge" id="alerts">4</span></a></li>
          <li><a href="#" class="nav-links">Username</a></li>
        </ul>
      </div>
    </nav>
  </div>
  <!-- sidenav -->
  <div class="row">
    <div class="navbar-fixed col s2 m2 l2">
      <div style="height: 1px;">
        <ul class="section table-of-contents">
          <li>
            <a href="dashboard.html" class="active">Dashboard</a>
          </li>
          <li>
            <a href="inventory.html" class="">Inventory</a>
          </li>
          <li>
            <a href="sales.html" class="">Sales</a>
          </li>
          <li>
            <a href="employees.html" class="">Employees</a>
          </li>
          <li>
            <a href="#" class="">Goals</a>
          </li>
        </ul>
      </div>
    </div>
    <!-- cards -->
    <div class="col s10 l10">
      <!-- main content -->
      <div class="mainContent center-align">
        <div class="card col s12 m6 l5">
          <div class="card-content">
            <span class="card-title activator grey-text text-darken-4">Today's Sales</span>
            <p><a href="sales.html">Detailed Report</a></p>
            <canvas id="todaySales" width="400" height="400"></canvas>
          </div>
        </div>
        <div class="card col s12 m6 l5">
          <div class="card-content">
            <span class="card-title activator grey-text text-darken-4">Sales Leaders</span>
            <p><a href="employees.html">Detailed Report</a></p>
            <canvas id="employeeSales" width="400" height="400"></canvas>
          </div>
        </div>
        <div class="card col s12 m6 l5">
          <div class="card-content">
            <span class="card-title activator grey-text text-darken-4">Top Five Items Sold </span>
            <p><a href="#">Detailed Report</a></p>
            <table width="400" height="360">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Units Sold</th>
                  <th>Profit</th>
                </tr>
              </thead>

              <tbody>
                <tr>
                  <td>Git Lager</td>
                  <td>500 pints</td>
                  <td>$2,540.32</td>
                </tr>
                <tr>
                  <td>API IPA</td>
                  <td>325 pints</td>
                  <td>$1441.53</td>
                </tr>
                <tr>
                  <td>Fruit Loop</td>
                  <td>400 pints</td>
                  <td>$1935.48</td>
                </tr>
                <tr>
                  <td>Nodemon</td>
                  <td>425 pints</td>
                  <td>$1885.08</td>
                </tr>
                <tr>
                  <td>Express</td>
                  <td>470 pints</td>
                  <td>$1895.16</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="card col s12 m6 l5">
          <div class="card-content">
            <span class="card-title activator grey-text text-darken-4">Sales Goals</span>
            <p><a href="#">Detailed Report</a></p>
            <canvas id="salesGoals" width="400" height="400"></canvas>
          </div>
        </div>
      </div>
      <!-- Compiled and minified JavaScript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.bundle.js"></script>
      <script>

        // doughnut tooltip plugin
        Chart.pluginService.register({
          beforeRender: function (chart) {
            if (chart.config.options.showAllTooltips) {
              // create an array of tooltips
              // we can't use the chart tooltip because there is only one tooltip per chart
              chart.pluginTooltips = [];
              chart.config.data.datasets.forEach(function (dataset, i) {
                chart.getDatasetMeta(i).data.forEach(function (sector, j) {
                  chart.pluginTooltips.push(new Chart.Tooltip({
                    _chart: chart.chart,
                    _chartInstance: chart,
                    _data: chart.data,
                    _options: chart.options.tooltips,
                    _active: [sector]
                  }, chart));
                });
              });

              // turn off normal tooltips
              chart.options.tooltips.enabled = false;
            }
          },
          afterDraw: function (chart, easing) {
            if (chart.config.options.showAllTooltips) {
              // we don't want the permanent tooltips to animate, so don't do anything till the animation runs atleast once
              if (!chart.allTooltipsOnce) {
                if (easing !== 1)
                  return;
                chart.allTooltipsOnce = true;
              }

              // turn on tooltips
              chart.options.tooltips.enabled = true;
              Chart.helpers.each(chart.pluginTooltips, function (tooltip) {
                tooltip.initialize();
                tooltip.update();
                // we don't actually need this since we are not animating tooltips
                tooltip.pivot();
                tooltip.transition(easing).draw();
              });
              chart.options.tooltips.enabled = false;
            }
          }
        });

        // Today's Sales
        let salesToday = document.getElementById("todaySales");
        let todaySales = new Chart(salesToday, {
          type: 'line',
          data: {
            labels: ["12pm", "1pm", "2pm", "3pm", "4pm", "5pm", "6pm", "7pm", "8pm", "9pm", "10pm", "11pm", "12am"],
            datasets: [{
              label: 'Sales by hour',
              data: [200, 100, 50, 25, 35, 48, 60, 80, 400, 500, 550, 545, 550],
              fill: false,
              borderColor: 'rgb(161, 187, 208)',
              lineTension: 0.1
            }]
          },
          options: {
            scales: {
              yAxes: [{
                ticks: {
                  beginAtZero: true
                }
              }]
            }
          }
        });
        // Sales by Employee
        let empSales = document.getElementById("employeeSales");
        let employeeSales = new Chart(empSales, {
          type: 'bar',
          data: {
            labels: ["Garrett Fermo", "Radley Eakle", "Adam Openbrier", "Joleen Tsai", "Jean Chung"],
            datasets: [{
              label: 'Sales by Employee',
              data: [985, 728, 507, 467, 456],
              backgroundColor: [
                'rgb(209, 168, 39)',
                'rgb(209, 168, 39)',
                'rgb(209, 168, 39)',
                'rgb(209, 168, 39)',
                'rgb(209, 168, 39)',
              ]
            }]
          },
          options: {
            scales: {
              yAxes: [{
                ticks: {
                  beginAtZero: true
                }
              }]
            }
          }
        });

        // Sales Goals
        let targetSales = document.getElementById("salesGoals");
        let salesGoals = new Chart(targetSales, {
          type: 'doughnut',
          data: {
            labels: ["Current Sales", "Monthly Goal"],
            datasets: [{
              label: 'Sales by Employee',
              data: [15000, 40000],
              backgroundColor: [
                'rgb(209, 168, 39)',
                'rgb(161, 187, 208)'
              ]
            }]
          },
          options: {
            showAllTooltips: true
          }
        });
      </script>
</body>

</html>